<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="OSDU Fork Management Template - Simplified enterprise-grade fork management with AI-enhanced workflows"><meta name=author content="Daniel Scholl"><link href=https://danielscholl-osdu.github.io/osdu-fork-template/decisions/adr_011_template_sync/ rel=canonical><link rel=icon href=../../images/favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.15"><title>ADR-011: Configuration-Driven Template Synchronization - OSDU SPI Fork</title><link rel=stylesheet href=../../assets/stylesheets/main.342714a4.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Inter";--md-code-font:"Fira Code"}</style><link rel=stylesheet href=../../stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#adr-011-configuration-driven-template-synchronization class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="OSDU SPI Fork" class="md-header__button md-logo" aria-label="OSDU SPI Fork" data-md-component=logo> <img src=../../images/favicon.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> OSDU SPI Fork </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> ADR-011: Configuration-Driven Template Synchronization </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=custom data-md-color-accent=indigo aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5M7 15a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/danielscholl-osdu/osdu-fork-template title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> osdu-fork-template </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../concepts/ class=md-tabs__link> Concepts </a> </li> <li class=md-tabs__item> <a href=../../architecture/overview/ class=md-tabs__link> Architecture </a> </li> <li class=md-tabs__item> <a href=../../workflows/initialization/ class=md-tabs__link> Workflows </a> </li> <li class=md-tabs__item> <a href=../ class=md-tabs__link> Decisions </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="OSDU SPI Fork" class="md-nav__button md-logo" aria-label="OSDU SPI Fork" data-md-component=logo> <img src=../../images/favicon.png alt=logo> </a> OSDU SPI Fork </label> <div class=md-nav__source> <a href=https://github.com/danielscholl-osdu/osdu-fork-template title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> osdu-fork-template </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-nav__item> <a href=../../concepts/ class=md-nav__link> <span class=md-ellipsis> Concepts </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> Architecture </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Architecture </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../architecture/overview/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../../architecture/three_branch_strategy/ class=md-nav__link> <span class=md-ellipsis> Three-Branch Strategy </span> </a> </li> <li class=md-nav__item> <a href=../../architecture/workflow_system/ class=md-nav__link> <span class=md-ellipsis> Workflow System </span> </a> </li> <li class=md-nav__item> <a href=../../architecture/ai_integration/ class=md-nav__link> <span class=md-ellipsis> AI Integration </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Workflows </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Workflows </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../workflows/initialization/ class=md-nav__link> <span class=md-ellipsis> Initialization </span> </a> </li> <li class=md-nav__item> <a href=../../workflows/synchronization/ class=md-nav__link> <span class=md-ellipsis> Synchronization </span> </a> </li> <li class=md-nav__item> <a href=../../workflows/cascade/ class=md-nav__link> <span class=md-ellipsis> Cascade </span> </a> </li> <li class=md-nav__item> <a href=../../workflows/validation/ class=md-nav__link> <span class=md-ellipsis> Validation </span> </a> </li> <li class=md-nav__item> <a href=../../workflows/build/ class=md-nav__link> <span class=md-ellipsis> Build </span> </a> </li> <li class=md-nav__item> <a href=../../workflows/release/ class=md-nav__link> <span class=md-ellipsis> Release </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> Decisions </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Decisions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ class=md-nav__link> <span class=md-ellipsis> Index </span> </a> </li> <li class=md-nav__item> <a href=../evolution/ class=md-nav__link> <span class=md-ellipsis> Evolution </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#problem-statement class=md-nav__link> <span class=md-ellipsis> Problem Statement </span> </a> </li> <li class=md-nav__item> <a href=#context-and-requirements class=md-nav__link> <span class=md-ellipsis> Context and Requirements </span> </a> <nav class=md-nav aria-label="Context and Requirements"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#static-template-limitations class=md-nav__link> <span class=md-ellipsis> Static Template Limitations </span> </a> </li> <li class=md-nav__item> <a href=#synchronization-requirements class=md-nav__link> <span class=md-ellipsis> Synchronization Requirements </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#decision class=md-nav__link> <span class=md-ellipsis> Decision </span> </a> <nav class=md-nav aria-label=Decision> <ul class=md-nav__list> <li class=md-nav__item> <a href=#material-file-document-outline-configuration-architecture class=md-nav__link> <span class=md-ellipsis> :material-file-document-outline Configuration Architecture </span> </a> <nav class=md-nav aria-label=":material-file-document-outline Configuration Architecture"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#comprehensive-sync-configuration-githubsync-configjson class=md-nav__link> <span class=md-ellipsis> Comprehensive Sync Configuration (.github/sync-config.json) </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#material-cog-sync-configuration-aware-workflow-integration class=md-nav__link> <span class=md-ellipsis> :material-cog-sync Configuration-Aware Workflow Integration </span> </a> <nav class=md-nav aria-label=":material-cog-sync Configuration-Aware Workflow Integration"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initialization-cleanup-process class=md-nav__link> <span class=md-ellipsis> Initialization Cleanup Process </span> </a> </li> <li class=md-nav__item> <a href=#template-synchronization-process class=md-nav__link> <span class=md-ellipsis> Template Synchronization Process </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#implementation-strategy class=md-nav__link> <span class=md-ellipsis> Implementation Strategy </span> </a> <nav class=md-nav aria-label="Implementation Strategy"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#material-folder-sync-selective-file-categorization class=md-nav__link> <span class=md-ellipsis> :material-folder-sync Selective File Categorization </span> </a> <nav class=md-nav aria-label=":material-folder-sync Selective File Categorization"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#essential-infrastructure-files class=md-nav__link> <span class=md-ellipsis> Essential Infrastructure Files </span> </a> </li> <li class=md-nav__item> <a href=#essential-vs-template-only-workflows class=md-nav__link> <span class=md-ellipsis> Essential vs Template-Only Workflows </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#material-track-changes-version-tracking-and-history class=md-nav__link> <span class=md-ellipsis> :material-track-changes Version Tracking and History </span> </a> <nav class=md-nav aria-label=":material-track-changes Version Tracking and History"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#synchronization-state-management class=md-nav__link> <span class=md-ellipsis> Synchronization State Management </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#benefits-and-rationale class=md-nav__link> <span class=md-ellipsis> Benefits and Rationale </span> </a> <nav class=md-nav aria-label="Benefits and Rationale"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#material-trending-up-strategic-advantages class=md-nav__link> <span class=md-ellipsis> :material-trending-up Strategic Advantages </span> </a> <nav class=md-nav aria-label=":material-trending-up Strategic Advantages"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#template-drift-elimination class=md-nav__link> <span class=md-ellipsis> Template Drift Elimination </span> </a> </li> <li class=md-nav__item> <a href=#maintainable-synchronization-architecture class=md-nav__link> <span class=md-ellipsis> Maintainable Synchronization Architecture </span> </a> </li> <li class=md-nav__item> <a href=#clean-repository-state-management class=md-nav__link> <span class=md-ellipsis> Clean Repository State Management </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#material-cog-outline-operational-benefits class=md-nav__link> <span class=md-ellipsis> :material-cog-outline Operational Benefits </span> </a> <nav class=md-nav aria-label=":material-cog-outline Operational Benefits"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#conflict-prevention-and-boundary-management class=md-nav__link> <span class=md-ellipsis> Conflict Prevention and Boundary Management </span> </a> </li> <li class=md-nav__item> <a href=#development-and-maintenance-efficiency class=md-nav__link> <span class=md-ellipsis> Development and Maintenance Efficiency </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#alternative-approaches-considered class=md-nav__link> <span class=md-ellipsis> Alternative Approaches Considered </span> </a> <nav class=md-nav aria-label="Alternative Approaches Considered"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#manual-synchronization-documentation class=md-nav__link> <span class=md-ellipsis> Manual Synchronization Documentation </span> </a> </li> <li class=md-nav__item> <a href=#git-subtreesubmodule-integration class=md-nav__link> <span class=md-ellipsis> Git Subtree/Submodule Integration </span> </a> </li> <li class=md-nav__item> <a href=#hardcoded-synchronization-lists class=md-nav__link> <span class=md-ellipsis> Hardcoded Synchronization Lists </span> </a> </li> <li class=md-nav__item> <a href=#external-synchronization-service class=md-nav__link> <span class=md-ellipsis> External Synchronization Service </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#consequences-and-trade-offs class=md-nav__link> <span class=md-ellipsis> Consequences and Trade-offs </span> </a> <nav class=md-nav aria-label="Consequences and Trade-offs"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#positive-outcomes class=md-nav__link> <span class=md-ellipsis> Positive Outcomes </span> </a> <nav class=md-nav aria-label="Positive Outcomes"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#infrastructure-consistency-excellence class=md-nav__link> <span class=md-ellipsis> Infrastructure Consistency Excellence </span> </a> </li> <li class=md-nav__item> <a href=#maintainability-and-transparency class=md-nav__link> <span class=md-ellipsis> Maintainability and Transparency </span> </a> </li> <li class=md-nav__item> <a href=#conflict-prevention-and-reliability class=md-nav__link> <span class=md-ellipsis> Conflict Prevention and Reliability </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#trade-offs-and-limitations class=md-nav__link> <span class=md-ellipsis> Trade-offs and Limitations </span> </a> <nav class=md-nav aria-label="Trade-offs and Limitations"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#configuration-management-complexity class=md-nav__link> <span class=md-ellipsis> Configuration Management Complexity </span> </a> </li> <li class=md-nav__item> <a href=#implementation-dependencies class=md-nav__link> <span class=md-ellipsis> Implementation Dependencies </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#success-metrics class=md-nav__link> <span class=md-ellipsis> Success Metrics </span> </a> <nav class=md-nav aria-label="Success Metrics"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#quantitative-indicators class=md-nav__link> <span class=md-ellipsis> Quantitative Indicators </span> </a> </li> <li class=md-nav__item> <a href=#qualitative-indicators class=md-nav__link> <span class=md-ellipsis> Qualitative Indicators </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#integration-points class=md-nav__link> <span class=md-ellipsis> Integration Points </span> </a> <nav class=md-nav aria-label="Integration Points"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#material-source-branch-template-and-initialization-integration class=md-nav__link> <span class=md-ellipsis> :material-source-branch Template and Initialization Integration </span> </a> <nav class=md-nav aria-label=":material-source-branch Template and Initialization Integration"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#template-repository-pattern-per-adr-003 class=md-nav__link> <span class=md-ellipsis> Template Repository Pattern (per ADR-003) </span> </a> </li> <li class=md-nav__item> <a href=#two-workflow-initialization-per-adr-006 class=md-nav__link> <span class=md-ellipsis> Two-Workflow Initialization (per ADR-006) </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#material-update-template-update-propagation class=md-nav__link> <span class=md-ellipsis> :material-update Template Update Propagation </span> </a> <nav class=md-nav aria-label=":material-update Template Update Propagation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#template-update-strategy-per-adr-012 class=md-nav__link> <span class=md-ellipsis> Template Update Strategy (per ADR-012) </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#related-decisions class=md-nav__link> <span class=md-ellipsis> Related Decisions </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=adr-011-configuration-driven-template-synchronization>ADR-011: Configuration-Driven Template Synchronization</h1> <p><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.62L12 2 9.19 8.62 2 9.24l5.45 4.73L5.82 21z"/></svg></span> <strong>Critical Decision</strong> | <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1m-1 11h-5v5h5z"/></svg></span> <strong>2025-06-04</strong> | <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"/></svg></span> <strong>Accepted</strong></p> <h2 id=problem-statement>Problem Statement</h2> <p>The original template repository pattern created a critical bootstrap problem: once repositories were created from the template, there was no systematic way to propagate template improvements, security patches, or new features to existing forked repositories. This led to significant template drift and inconsistent infrastructure across deployments.</p> <h2 id=context-and-requirements>Context and Requirements</h2> <h3 id=static-template-limitations><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 13h-2V7h2m0 10h-2v-2h2M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2"/></svg></span> Static Template Limitations</h3> <p><strong>Template Drift Challenges</strong>: - Forked repositories became outdated as the template evolved with improvements - No automated mechanism to propagate workflow updates to existing deployments - Inconsistent infrastructure as repositories diverged from template standards - Security improvements in template didn't reach existing fork repositories</p> <p><strong>Manual Update Burden</strong>: - Teams required manual tracking and application of template changes - Error-prone process copying changes between template and fork repositories - No visibility into which template version each fork was synchronized to - Coordination overhead for applying updates across multiple repository instances</p> <p><strong>Maintenance and Consistency Issues</strong>: - Difficulty distinguishing between template infrastructure and project-specific content - No systematic cleanup of template development artifacts during initialization - Unclear boundaries between template-management files and project-essential files - Risk of accidentally over-syncing or under-syncing critical infrastructure</p> <h3 id=synchronization-requirements><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M11 2v2.07A8 8 0 0 0 4.07 11H2v2h2.07A8 8 0 0 0 11 19.93V22h2v-2.07A8 8 0 0 0 19.93 13H22v-2h-2.07A8 8 0 0 0 13 4.07V2m-2 4.08V8h2V6.09c2.5.41 4.5 2.41 4.92 4.91H16v2h1.91c-.41 2.5-2.41 4.5-4.91 4.92V16h-2v1.91C8.5 17.5 6.5 15.5 6.08 13H8v-2H6.09C6.5 8.5 8.5 6.5 11 6.08M12 11a1 1 0 0 0-1 1 1 1 0 0 0 1 1 1 1 0 0 0 1-1 1 1 0 0 0-1-1"/></svg></span> Synchronization Requirements</h3> <p><strong>Systematic Sync Management</strong>: Clear definition of which files should be synchronized between template and forks with explicit categorization.</p> <p><strong>Selective Update Mechanism</strong>: Automated propagation of essential infrastructure while preserving project-specific customizations.</p> <p><strong>Clean Repository State</strong>: Systematic cleanup of template-specific content during initialization with documented rationale.</p> <h2 id=decision>Decision</h2> <p>Implement a <strong>Configuration-Driven Template Synchronization System</strong> using structured configuration to manage selective file synchronization:</p> <pre class=mermaid><code>graph TD
    A[Template Repository] --&gt; B[sync-config.json]
    B --&gt; C{File Category}
    C --&gt;|Essential| D[Copy to Fork]
    C --&gt;|Template-Only| E[Keep in Template]
    C --&gt;|Cleanup| F[Remove During Init]

    G[Fork Repository] --&gt; H[template-sync.yml]
    H --&gt; I[Check Template Updates]
    I --&gt; J[Apply Config Rules]
    J --&gt; K[Update Essential Files]
    K --&gt; L[Track Sync Version]

    M[Initialization] --&gt; N[init-complete.yml]
    N --&gt; O[Apply Cleanup Rules]
    O --&gt; P[Clean Fork State]

    style A fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    style B fill:#e8f5e9,stroke:#1b5e20,stroke-width:2px
    style D fill:#fff3e0,stroke:#e65100,stroke-width:2px
    style F fill:#fce4ec,stroke:#c2185b,stroke-width:2px</code></pre> <h3 id=material-file-document-outline-configuration-architecture>:material-file-document-outline Configuration Architecture</h3> <h4 id=comprehensive-sync-configuration-githubsync-configjson><strong>Comprehensive Sync Configuration (.github/sync-config.json)</strong></h4> <div class="language-json highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=p>{</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=w>  </span><span class=nt>&quot;sync_rules&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=w>    </span><span class=nt>&quot;directories&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=w>      </span><span class=p>{</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=w>        </span><span class=nt>&quot;path&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;.github/ISSUE_TEMPLATE&quot;</span><span class=p>,</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=w>        </span><span class=nt>&quot;reason&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Standard issue templates for consistent project management&quot;</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=w>      </span><span class=p>},</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=w>      </span><span class=p>{</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=w>        </span><span class=nt>&quot;path&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;.github/PULL_REQUEST_TEMPLATE&quot;</span><span class=p>,</span><span class=w> </span>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a><span class=w>        </span><span class=nt>&quot;reason&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;PR templates ensuring proper review processes&quot;</span>
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a><span class=w>      </span><span class=p>}</span>
</span><span id=__span-0-12><a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a><span class=w>    </span><span class=p>],</span>
</span><span id=__span-0-13><a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a><span class=w>    </span><span class=nt>&quot;files&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-0-14><a id=__codelineno-0-14 name=__codelineno-0-14 href=#__codelineno-0-14></a><span class=w>      </span><span class=p>{</span>
</span><span id=__span-0-15><a id=__codelineno-0-15 name=__codelineno-0-15 href=#__codelineno-0-15></a><span class=w>        </span><span class=nt>&quot;path&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;.github/dependabot.yml&quot;</span><span class=p>,</span>
</span><span id=__span-0-16><a id=__codelineno-0-16 name=__codelineno-0-16 href=#__codelineno-0-16></a><span class=w>        </span><span class=nt>&quot;reason&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Automated dependency management configuration&quot;</span>
</span><span id=__span-0-17><a id=__codelineno-0-17 name=__codelineno-0-17 href=#__codelineno-0-17></a><span class=w>      </span><span class=p>},</span>
</span><span id=__span-0-18><a id=__codelineno-0-18 name=__codelineno-0-18 href=#__codelineno-0-18></a><span class=w>      </span><span class=p>{</span>
</span><span id=__span-0-19><a id=__codelineno-0-19 name=__codelineno-0-19 href=#__codelineno-0-19></a><span class=w>        </span><span class=nt>&quot;path&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;.github/labels.json&quot;</span><span class=p>,</span>
</span><span id=__span-0-20><a id=__codelineno-0-20 name=__codelineno-0-20 href=#__codelineno-0-20></a><span class=w>        </span><span class=nt>&quot;reason&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Centralized label definitions for workflow automation&quot;</span>
</span><span id=__span-0-21><a id=__codelineno-0-21 name=__codelineno-0-21 href=#__codelineno-0-21></a><span class=w>      </span><span class=p>}</span>
</span><span id=__span-0-22><a id=__codelineno-0-22 name=__codelineno-0-22 href=#__codelineno-0-22></a><span class=w>    </span><span class=p>],</span>
</span><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23 href=#__codelineno-0-23></a><span class=w>    </span><span class=nt>&quot;workflows&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24 href=#__codelineno-0-24></a><span class=w>      </span><span class=nt>&quot;essential&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25 href=#__codelineno-0-25></a><span class=w>        </span><span class=s2>&quot;.github/workflows/sync.yml&quot;</span><span class=p>,</span>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26 href=#__codelineno-0-26></a><span class=w>        </span><span class=s2>&quot;.github/workflows/validate.yml&quot;</span><span class=p>,</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27 href=#__codelineno-0-27></a><span class=w>        </span><span class=s2>&quot;.github/workflows/build.yml&quot;</span><span class=p>,</span>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28 href=#__codelineno-0-28></a><span class=w>        </span><span class=s2>&quot;.github/workflows/release.yml&quot;</span><span class=p>,</span>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29 href=#__codelineno-0-29></a><span class=w>        </span><span class=s2>&quot;.github/workflows/template-sync.yml&quot;</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30 href=#__codelineno-0-30></a><span class=w>      </span><span class=p>],</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31 href=#__codelineno-0-31></a><span class=w>      </span><span class=nt>&quot;template_only&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32 href=#__codelineno-0-32></a><span class=w>        </span><span class=s2>&quot;.github/workflows/init.yml&quot;</span><span class=p>,</span>
</span><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33 href=#__codelineno-0-33></a><span class=w>        </span><span class=s2>&quot;.github/workflows/init-complete.yml&quot;</span><span class=p>,</span>
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34 href=#__codelineno-0-34></a><span class=w>        </span><span class=s2>&quot;.github/workflows/cascade.yml&quot;</span><span class=p>,</span>
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35 href=#__codelineno-0-35></a><span class=w>        </span><span class=s2>&quot;.github/workflows/cascade-monitor.yml&quot;</span>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36 href=#__codelineno-0-36></a><span class=w>      </span><span class=p>]</span>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37 href=#__codelineno-0-37></a><span class=w>    </span><span class=p>},</span>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38 href=#__codelineno-0-38></a><span class=w>    </span><span class=nt>&quot;tracking_files&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39 href=#__codelineno-0-39></a><span class=w>      </span><span class=s2>&quot;.github/.template-sync-commit&quot;</span>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40 href=#__codelineno-0-40></a><span class=w>    </span><span class=p>]</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41 href=#__codelineno-0-41></a><span class=w>  </span><span class=p>},</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42 href=#__codelineno-0-42></a><span class=w>  </span><span class=nt>&quot;cleanup_rules&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43 href=#__codelineno-0-43></a><span class=w>    </span><span class=nt>&quot;directories&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44 href=#__codelineno-0-44></a><span class=w>      </span><span class=p>{</span>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45 href=#__codelineno-0-45></a><span class=w>        </span><span class=nt>&quot;path&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;doc/&quot;</span><span class=p>,</span>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46 href=#__codelineno-0-46></a><span class=w>        </span><span class=nt>&quot;reason&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Template documentation replaced by upstream project docs&quot;</span>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47 href=#__codelineno-0-47></a><span class=w>      </span><span class=p>},</span>
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48 href=#__codelineno-0-48></a><span class=w>      </span><span class=p>{</span>
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49 href=#__codelineno-0-49></a><span class=w>        </span><span class=nt>&quot;path&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;.claude/&quot;</span><span class=p>,</span>
</span><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50 href=#__codelineno-0-50></a><span class=w>        </span><span class=nt>&quot;reason&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Claude configuration specific to template development&quot;</span>
</span><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51 href=#__codelineno-0-51></a><span class=w>      </span><span class=p>}</span>
</span><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52 href=#__codelineno-0-52></a><span class=w>    </span><span class=p>],</span>
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53 href=#__codelineno-0-53></a><span class=w>    </span><span class=nt>&quot;files&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54 href=#__codelineno-0-54></a><span class=w>      </span><span class=p>{</span>
</span><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55 href=#__codelineno-0-55></a><span class=w>        </span><span class=nt>&quot;path&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;CLAUDE.md&quot;</span><span class=p>,</span>
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56 href=#__codelineno-0-56></a><span class=w>        </span><span class=nt>&quot;reason&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Template-specific Claude instructions&quot;</span>
</span><span id=__span-0-57><a id=__codelineno-0-57 name=__codelineno-0-57 href=#__codelineno-0-57></a><span class=w>      </span><span class=p>},</span>
</span><span id=__span-0-58><a id=__codelineno-0-58 name=__codelineno-0-58 href=#__codelineno-0-58></a><span class=w>      </span><span class=p>{</span>
</span><span id=__span-0-59><a id=__codelineno-0-59 name=__codelineno-0-59 href=#__codelineno-0-59></a><span class=w>        </span><span class=nt>&quot;path&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;.github/copilot-instructions.md&quot;</span><span class=p>,</span>
</span><span id=__span-0-60><a id=__codelineno-0-60 name=__codelineno-0-60 href=#__codelineno-0-60></a><span class=w>        </span><span class=nt>&quot;reason&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Template-specific AI instructions&quot;</span>
</span><span id=__span-0-61><a id=__codelineno-0-61 name=__codelineno-0-61 href=#__codelineno-0-61></a><span class=w>      </span><span class=p>}</span>
</span><span id=__span-0-62><a id=__codelineno-0-62 name=__codelineno-0-62 href=#__codelineno-0-62></a><span class=w>    </span><span class=p>],</span>
</span><span id=__span-0-63><a id=__codelineno-0-63 name=__codelineno-0-63 href=#__codelineno-0-63></a><span class=w>    </span><span class=nt>&quot;workflows&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-0-64><a id=__codelineno-0-64 name=__codelineno-0-64 href=#__codelineno-0-64></a><span class=w>      </span><span class=p>{</span>
</span><span id=__span-0-65><a id=__codelineno-0-65 name=__codelineno-0-65 href=#__codelineno-0-65></a><span class=w>        </span><span class=nt>&quot;path&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;.github/workflows/init.yml&quot;</span><span class=p>,</span>
</span><span id=__span-0-66><a id=__codelineno-0-66 name=__codelineno-0-66 href=#__codelineno-0-66></a><span class=w>        </span><span class=nt>&quot;reason&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;One-time initialization workflow&quot;</span>
</span><span id=__span-0-67><a id=__codelineno-0-67 name=__codelineno-0-67 href=#__codelineno-0-67></a><span class=w>      </span><span class=p>},</span>
</span><span id=__span-0-68><a id=__codelineno-0-68 name=__codelineno-0-68 href=#__codelineno-0-68></a><span class=w>      </span><span class=p>{</span>
</span><span id=__span-0-69><a id=__codelineno-0-69 name=__codelineno-0-69 href=#__codelineno-0-69></a><span class=w>        </span><span class=nt>&quot;path&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;.github/workflows/init-complete.yml&quot;</span><span class=p>,</span>
</span><span id=__span-0-70><a id=__codelineno-0-70 name=__codelineno-0-70 href=#__codelineno-0-70></a><span class=w>        </span><span class=nt>&quot;reason&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;One-time setup workflow&quot;</span>
</span><span id=__span-0-71><a id=__codelineno-0-71 name=__codelineno-0-71 href=#__codelineno-0-71></a><span class=w>      </span><span class=p>}</span>
</span><span id=__span-0-72><a id=__codelineno-0-72 name=__codelineno-0-72 href=#__codelineno-0-72></a><span class=w>    </span><span class=p>]</span>
</span><span id=__span-0-73><a id=__codelineno-0-73 name=__codelineno-0-73 href=#__codelineno-0-73></a><span class=w>  </span><span class=p>},</span>
</span><span id=__span-0-74><a id=__codelineno-0-74 name=__codelineno-0-74 href=#__codelineno-0-74></a><span class=w>  </span><span class=nt>&quot;exclusions&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-0-75><a id=__codelineno-0-75 name=__codelineno-0-75 href=#__codelineno-0-75></a><span class=w>    </span><span class=s2>&quot;project-specific-config.yml&quot;</span><span class=p>,</span>
</span><span id=__span-0-76><a id=__codelineno-0-76 name=__codelineno-0-76 href=#__codelineno-0-76></a><span class=w>    </span><span class=s2>&quot;custom-workflows/&quot;</span><span class=p>,</span>
</span><span id=__span-0-77><a id=__codelineno-0-77 name=__codelineno-0-77 href=#__codelineno-0-77></a><span class=w>    </span><span class=s2>&quot;.env.local&quot;</span>
</span><span id=__span-0-78><a id=__codelineno-0-78 name=__codelineno-0-78 href=#__codelineno-0-78></a><span class=w>  </span><span class=p>]</span>
</span><span id=__span-0-79><a id=__codelineno-0-79 name=__codelineno-0-79 href=#__codelineno-0-79></a><span class=p>}</span>
</span></code></pre></div> <h3 id=material-cog-sync-configuration-aware-workflow-integration>:material-cog-sync Configuration-Aware Workflow Integration</h3> <h4 id=initialization-cleanup-process><strong>Initialization Cleanup Process</strong></h4> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=c1># Enhanced init-complete.yml with configuration-driven cleanup</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=nt>initialization_cleanup</span><span class=p>:</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=w>  </span><span class=nt>sync_configuration</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Read</span><span class=nv> </span><span class=s>.github/sync-config.json</span><span class=nv> </span><span class=s>for</span><span class=nv> </span><span class=s>cleanup</span><span class=nv> </span><span class=s>rules&quot;</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=w>  </span><span class=nt>directory_cleanup</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=w>    </span><span class=no># Remove template-specific directories with documented reasons</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=w>    </span><span class=no>CLEANUP_DIRS=$(jq -r &#39;.cleanup_rules.directories[]? | .path&#39; .github/sync-config.json)</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a><span class=w>    </span><span class=no>for dir in $CLEANUP_DIRS; do</span>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a><span class=w>      </span><span class=no>if [ -d &quot;$dir&quot; ]; then</span>
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a><span class=w>        </span><span class=no>echo &quot;Removing template directory: $dir&quot;</span>
</span><span id=__span-1-11><a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a><span class=w>        </span><span class=no>rm -rf &quot;$dir&quot;</span>
</span><span id=__span-1-12><a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a><span class=w>      </span><span class=no>fi</span>
</span><span id=__span-1-13><a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a><span class=w>    </span><span class=no>done</span>
</span><span id=__span-1-14><a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a>
</span><span id=__span-1-15><a id=__codelineno-1-15 name=__codelineno-1-15 href=#__codelineno-1-15></a><span class=w>  </span><span class=nt>file_cleanup</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
</span><span id=__span-1-16><a id=__codelineno-1-16 name=__codelineno-1-16 href=#__codelineno-1-16></a><span class=w>    </span><span class=no># Remove template-specific files with clear rationale</span>
</span><span id=__span-1-17><a id=__codelineno-1-17 name=__codelineno-1-17 href=#__codelineno-1-17></a><span class=w>    </span><span class=no>CLEANUP_FILES=$(jq -r &#39;.cleanup_rules.files[]? | .path&#39; .github/sync-config.json)</span>
</span><span id=__span-1-18><a id=__codelineno-1-18 name=__codelineno-1-18 href=#__codelineno-1-18></a><span class=w>    </span><span class=no>for file in $CLEANUP_FILES; do</span>
</span><span id=__span-1-19><a id=__codelineno-1-19 name=__codelineno-1-19 href=#__codelineno-1-19></a><span class=w>      </span><span class=no>if [ -f &quot;$file&quot; ]; then</span>
</span><span id=__span-1-20><a id=__codelineno-1-20 name=__codelineno-1-20 href=#__codelineno-1-20></a><span class=w>        </span><span class=no>echo &quot;Removing template file: $file&quot;</span>
</span><span id=__span-1-21><a id=__codelineno-1-21 name=__codelineno-1-21 href=#__codelineno-1-21></a><span class=w>        </span><span class=no>rm -f &quot;$file&quot;</span>
</span><span id=__span-1-22><a id=__codelineno-1-22 name=__codelineno-1-22 href=#__codelineno-1-22></a><span class=w>      </span><span class=no>fi</span>
</span><span id=__span-1-23><a id=__codelineno-1-23 name=__codelineno-1-23 href=#__codelineno-1-23></a><span class=w>    </span><span class=no>done</span>
</span><span id=__span-1-24><a id=__codelineno-1-24 name=__codelineno-1-24 href=#__codelineno-1-24></a>
</span><span id=__span-1-25><a id=__codelineno-1-25 name=__codelineno-1-25 href=#__codelineno-1-25></a><span class=w>  </span><span class=nt>workflow_cleanup</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
</span><span id=__span-1-26><a id=__codelineno-1-26 name=__codelineno-1-26 href=#__codelineno-1-26></a><span class=w>    </span><span class=no># Remove initialization workflows after completion</span>
</span><span id=__span-1-27><a id=__codelineno-1-27 name=__codelineno-1-27 href=#__codelineno-1-27></a><span class=w>    </span><span class=no>CLEANUP_WORKFLOWS=$(jq -r &#39;.cleanup_rules.workflows[]? | .path&#39; .github/sync-config.json)</span>
</span><span id=__span-1-28><a id=__codelineno-1-28 name=__codelineno-1-28 href=#__codelineno-1-28></a><span class=w>    </span><span class=no>for workflow in $CLEANUP_WORKFLOWS; do</span>
</span><span id=__span-1-29><a id=__codelineno-1-29 name=__codelineno-1-29 href=#__codelineno-1-29></a><span class=w>      </span><span class=no>if [ -f &quot;$workflow&quot; ]; then</span>
</span><span id=__span-1-30><a id=__codelineno-1-30 name=__codelineno-1-30 href=#__codelineno-1-30></a><span class=w>        </span><span class=no>echo &quot;Removing initialization workflow: $workflow&quot;</span>
</span><span id=__span-1-31><a id=__codelineno-1-31 name=__codelineno-1-31 href=#__codelineno-1-31></a><span class=w>        </span><span class=no>rm -f &quot;$workflow&quot;</span>
</span><span id=__span-1-32><a id=__codelineno-1-32 name=__codelineno-1-32 href=#__codelineno-1-32></a><span class=w>      </span><span class=no>fi</span>
</span><span id=__span-1-33><a id=__codelineno-1-33 name=__codelineno-1-33 href=#__codelineno-1-33></a><span class=w>    </span><span class=no>done</span>
</span></code></pre></div> <h4 id=template-synchronization-process><strong>Template Synchronization Process</strong></h4> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=c1># Configuration-driven template-sync.yml implementation</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=nt>template_synchronization</span><span class=p>:</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=w>  </span><span class=nt>change_detection</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Check</span><span class=nv> </span><span class=s>only</span><span class=nv> </span><span class=s>configured</span><span class=nv> </span><span class=s>sync</span><span class=nv> </span><span class=s>paths</span><span class=nv> </span><span class=s>for</span><span class=nv> </span><span class=s>template</span><span class=nv> </span><span class=s>updates&quot;</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=w>  </span><span class=nt>sync_path_collection</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a><span class=w>    </span><span class=no># Build sync path list from configuration</span>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a><span class=w>    </span><span class=no>SYNC_PATHS=&quot;&quot;</span>
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a>
</span><span id=__span-2-9><a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a><span class=w>    </span><span class=no># Add configured directories</span>
</span><span id=__span-2-10><a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a><span class=w>    </span><span class=no>DIRECTORIES=$(jq -r &#39;.sync_rules.directories[]? | .path&#39; temp-sync-config.json)</span>
</span><span id=__span-2-11><a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a><span class=w>    </span><span class=no>for dir in $DIRECTORIES; do</span>
</span><span id=__span-2-12><a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a><span class=w>      </span><span class=no>SYNC_PATHS=&quot;$SYNC_PATHS $dir&quot;</span>
</span><span id=__span-2-13><a id=__codelineno-2-13 name=__codelineno-2-13 href=#__codelineno-2-13></a><span class=w>    </span><span class=no>done</span>
</span><span id=__span-2-14><a id=__codelineno-2-14 name=__codelineno-2-14 href=#__codelineno-2-14></a>
</span><span id=__span-2-15><a id=__codelineno-2-15 name=__codelineno-2-15 href=#__codelineno-2-15></a><span class=w>    </span><span class=no># Add configured files</span>
</span><span id=__span-2-16><a id=__codelineno-2-16 name=__codelineno-2-16 href=#__codelineno-2-16></a><span class=w>    </span><span class=no>FILES=$(jq -r &#39;.sync_rules.files[]? | .path&#39; temp-sync-config.json)</span>
</span><span id=__span-2-17><a id=__codelineno-2-17 name=__codelineno-2-17 href=#__codelineno-2-17></a><span class=w>    </span><span class=no>for file in $FILES; do</span>
</span><span id=__span-2-18><a id=__codelineno-2-18 name=__codelineno-2-18 href=#__codelineno-2-18></a><span class=w>      </span><span class=no>SYNC_PATHS=&quot;$SYNC_PATHS $file&quot;</span>
</span><span id=__span-2-19><a id=__codelineno-2-19 name=__codelineno-2-19 href=#__codelineno-2-19></a><span class=w>    </span><span class=no>done</span>
</span><span id=__span-2-20><a id=__codelineno-2-20 name=__codelineno-2-20 href=#__codelineno-2-20></a>
</span><span id=__span-2-21><a id=__codelineno-2-21 name=__codelineno-2-21 href=#__codelineno-2-21></a><span class=w>    </span><span class=no># Add essential workflows</span>
</span><span id=__span-2-22><a id=__codelineno-2-22 name=__codelineno-2-22 href=#__codelineno-2-22></a><span class=w>    </span><span class=no>ESSENTIAL_WORKFLOWS=$(jq -r &#39;.sync_rules.workflows.essential[]?&#39; temp-sync-config.json)</span>
</span><span id=__span-2-23><a id=__codelineno-2-23 name=__codelineno-2-23 href=#__codelineno-2-23></a><span class=w>    </span><span class=no>for workflow in $ESSENTIAL_WORKFLOWS; do</span>
</span><span id=__span-2-24><a id=__codelineno-2-24 name=__codelineno-2-24 href=#__codelineno-2-24></a><span class=w>      </span><span class=no>SYNC_PATHS=&quot;$SYNC_PATHS $workflow&quot;</span>
</span><span id=__span-2-25><a id=__codelineno-2-25 name=__codelineno-2-25 href=#__codelineno-2-25></a><span class=w>    </span><span class=no>done</span>
</span><span id=__span-2-26><a id=__codelineno-2-26 name=__codelineno-2-26 href=#__codelineno-2-26></a>
</span><span id=__span-2-27><a id=__codelineno-2-27 name=__codelineno-2-27 href=#__codelineno-2-27></a><span class=w>  </span><span class=nt>change_analysis</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
</span><span id=__span-2-28><a id=__codelineno-2-28 name=__codelineno-2-28 href=#__codelineno-2-28></a><span class=w>    </span><span class=no># Check for changes only in configured paths</span>
</span><span id=__span-2-29><a id=__codelineno-2-29 name=__codelineno-2-29 href=#__codelineno-2-29></a><span class=w>    </span><span class=no>for path in $SYNC_PATHS; do</span>
</span><span id=__span-2-30><a id=__codelineno-2-30 name=__codelineno-2-30 href=#__codelineno-2-30></a><span class=w>      </span><span class=no>CHANGES=$(git diff --name-only $LAST_SYNC_COMMIT..$TEMPLATE_COMMIT template/main -- &quot;$path&quot;)</span>
</span><span id=__span-2-31><a id=__codelineno-2-31 name=__codelineno-2-31 href=#__codelineno-2-31></a><span class=w>      </span><span class=no>if [ -n &quot;$CHANGES&quot; ]; then</span>
</span><span id=__span-2-32><a id=__codelineno-2-32 name=__codelineno-2-32 href=#__codelineno-2-32></a><span class=w>        </span><span class=no>echo &quot;Changes detected in $path&quot;</span>
</span><span id=__span-2-33><a id=__codelineno-2-33 name=__codelineno-2-33 href=#__codelineno-2-33></a><span class=w>        </span><span class=no># Process updates for this path</span>
</span><span id=__span-2-34><a id=__codelineno-2-34 name=__codelineno-2-34 href=#__codelineno-2-34></a><span class=w>      </span><span class=no>fi</span>
</span><span id=__span-2-35><a id=__codelineno-2-35 name=__codelineno-2-35 href=#__codelineno-2-35></a><span class=w>    </span><span class=no>done</span>
</span></code></pre></div> <h2 id=implementation-strategy>Implementation Strategy</h2> <h3 id=material-folder-sync-selective-file-categorization>:material-folder-sync Selective File Categorization</h3> <h4 id=essential-infrastructure-files><strong>Essential Infrastructure Files</strong></h4> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=c1># Files that must stay synchronized across all forks</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=nt>essential_infrastructure</span><span class=p>:</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=w>  </span><span class=nt>templates</span><span class=p>:</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>.github/ISSUE_TEMPLATE/</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Standardized</span><span class=nv> </span><span class=s>issue</span><span class=nv> </span><span class=s>reporting&quot;</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>.github/PULL_REQUEST_TEMPLATE/</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Consistent</span><span class=nv> </span><span class=s>PR</span><span class=nv> </span><span class=s>review</span><span class=nv> </span><span class=s>process&quot;</span>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a><span class=w>  </span><span class=nt>configuration</span><span class=p>:</span>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>.github/dependabot.yml</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Automated</span><span class=nv> </span><span class=s>dependency</span><span class=nv> </span><span class=s>management&quot;</span>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>.github/labels.json</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Centralized</span><span class=nv> </span><span class=s>label</span><span class=nv> </span><span class=s>definitions&quot;</span>
</span><span id=__span-3-10><a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>.github/branch-protection.json</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Repository</span><span class=nv> </span><span class=s>security</span><span class=nv> </span><span class=s>settings&quot;</span>
</span><span id=__span-3-11><a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a>
</span><span id=__span-3-12><a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a><span class=w>  </span><span class=nt>actions</span><span class=p>:</span>
</span><span id=__span-3-13><a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>.github/actions/</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Reusable</span><span class=nv> </span><span class=s>workflow</span><span class=nv> </span><span class=s>components&quot;</span>
</span><span id=__span-3-14><a id=__codelineno-3-14 name=__codelineno-3-14 href=#__codelineno-3-14></a>
</span><span id=__span-3-15><a id=__codelineno-3-15 name=__codelineno-3-15 href=#__codelineno-3-15></a><span class=w>  </span><span class=nt>security</span><span class=p>:</span>
</span><span id=__span-3-16><a id=__codelineno-3-16 name=__codelineno-3-16 href=#__codelineno-3-16></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>.github/security-on.json</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Security</span><span class=nv> </span><span class=s>scanning</span><span class=nv> </span><span class=s>configuration&quot;</span>
</span><span id=__span-3-17><a id=__codelineno-3-17 name=__codelineno-3-17 href=#__codelineno-3-17></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>.github/security-patterns.txt</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Security</span><span class=nv> </span><span class=s>pattern</span><span class=nv> </span><span class=s>definitions&quot;</span>
</span></code></pre></div> <h4 id=essential-vs-template-only-workflows><strong>Essential vs Template-Only Workflows</strong></h4> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=c1># Clear separation of workflow purposes</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=nt>workflow_categorization</span><span class=p>:</span>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=w>  </span><span class=nt>essential_workflows</span><span class=p>:</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=w>    </span><span class=nt>purpose</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Core</span><span class=nv> </span><span class=s>fork</span><span class=nv> </span><span class=s>management</span><span class=nv> </span><span class=s>functionality</span><span class=nv> </span><span class=s>required</span><span class=nv> </span><span class=s>in</span><span class=nv> </span><span class=s>all</span><span class=nv> </span><span class=s>deployments&quot;</span>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a><span class=w>    </span><span class=nt>workflows</span><span class=p>:</span>
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>sync.yml</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Upstream</span><span class=nv> </span><span class=s>synchronization</span><span class=nv> </span><span class=s>automation&quot;</span>
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>validate.yml</span><span class=p>:</span><span class=w> </span><span class=s>&quot;PR</span><span class=nv> </span><span class=s>validation</span><span class=nv> </span><span class=s>and</span><span class=nv> </span><span class=s>quality</span><span class=nv> </span><span class=s>gates&quot;</span>
</span><span id=__span-4-8><a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>build.yml</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Project</span><span class=nv> </span><span class=s>build</span><span class=nv> </span><span class=s>and</span><span class=nv> </span><span class=s>test</span><span class=nv> </span><span class=s>automation&quot;</span>
</span><span id=__span-4-9><a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>release.yml</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Automated</span><span class=nv> </span><span class=s>semantic</span><span class=nv> </span><span class=s>versioning</span><span class=nv> </span><span class=s>and</span><span class=nv> </span><span class=s>releases&quot;</span>
</span><span id=__span-4-10><a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>template-sync.yml</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Template</span><span class=nv> </span><span class=s>update</span><span class=nv> </span><span class=s>propagation&quot;</span>
</span><span id=__span-4-11><a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>dependabot-validation.yml</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Dependency</span><span class=nv> </span><span class=s>update</span><span class=nv> </span><span class=s>validation&quot;</span>
</span><span id=__span-4-12><a id=__codelineno-4-12 name=__codelineno-4-12 href=#__codelineno-4-12></a>
</span><span id=__span-4-13><a id=__codelineno-4-13 name=__codelineno-4-13 href=#__codelineno-4-13></a><span class=w>  </span><span class=nt>template_only_workflows</span><span class=p>:</span>
</span><span id=__span-4-14><a id=__codelineno-4-14 name=__codelineno-4-14 href=#__codelineno-4-14></a><span class=w>    </span><span class=nt>purpose</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Template</span><span class=nv> </span><span class=s>development</span><span class=nv> </span><span class=s>and</span><span class=nv> </span><span class=s>initialization,</span><span class=nv> </span><span class=s>not</span><span class=nv> </span><span class=s>needed</span><span class=nv> </span><span class=s>in</span><span class=nv> </span><span class=s>forks&quot;</span>
</span><span id=__span-4-15><a id=__codelineno-4-15 name=__codelineno-4-15 href=#__codelineno-4-15></a><span class=w>    </span><span class=nt>workflows</span><span class=p>:</span>
</span><span id=__span-4-16><a id=__codelineno-4-16 name=__codelineno-4-16 href=#__codelineno-4-16></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>init.yml</span><span class=p>:</span><span class=w> </span><span class=s>&quot;One-time</span><span class=nv> </span><span class=s>repository</span><span class=nv> </span><span class=s>initialization&quot;</span>
</span><span id=__span-4-17><a id=__codelineno-4-17 name=__codelineno-4-17 href=#__codelineno-4-17></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>init-complete.yml</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Repository</span><span class=nv> </span><span class=s>setup</span><span class=nv> </span><span class=s>completion&quot;</span>
</span><span id=__span-4-18><a id=__codelineno-4-18 name=__codelineno-4-18 href=#__codelineno-4-18></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>cascade.yml</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Fork-specific</span><span class=nv> </span><span class=s>cascade</span><span class=nv> </span><span class=s>integration&quot;</span>
</span><span id=__span-4-19><a id=__codelineno-4-19 name=__codelineno-4-19 href=#__codelineno-4-19></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>cascade-monitor.yml</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Cascade</span><span class=nv> </span><span class=s>monitoring</span><span class=nv> </span><span class=s>and</span><span class=nv> </span><span class=s>recovery&quot;</span>
</span></code></pre></div> <h3 id=material-track-changes-version-tracking-and-history>:material-track-changes Version Tracking and History</h3> <h4 id=synchronization-state-management><strong>Synchronization State Management</strong></h4> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=c1># Comprehensive tracking of template synchronization state</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=nt>sync_tracking</span><span class=p>:</span>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=w>  </span><span class=nt>commit_tracking</span><span class=p>:</span><span class=w> </span><span class=s>&quot;.github/.template-sync-commit</span><span class=nv> </span><span class=s>stores</span><span class=nv> </span><span class=s>last</span><span class=nv> </span><span class=s>synced</span><span class=nv> </span><span class=s>template</span><span class=nv> </span><span class=s>version&quot;</span>
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a>
</span><span id=__span-5-5><a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a><span class=w>  </span><span class=nt>sync_history</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
</span><span id=__span-5-6><a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a><span class=w>    </span><span class=no># Track synchronization events with metadata</span>
</span><span id=__span-5-7><a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a><span class=w>    </span><span class=no>echo &quot;Last synced: $(date -u +%Y-%m-%dT%H:%M:%SZ)&quot; &gt;&gt; .github/.template-sync-history</span>
</span><span id=__span-5-8><a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a><span class=w>    </span><span class=no>echo &quot;Template commit: $TEMPLATE_COMMIT&quot; &gt;&gt; .github/.template-sync-history</span>
</span><span id=__span-5-9><a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a><span class=w>    </span><span class=no>echo &quot;Files updated: $UPDATED_FILES&quot; &gt;&gt; .github/.template-sync-history</span>
</span><span id=__span-5-10><a id=__codelineno-5-10 name=__codelineno-5-10 href=#__codelineno-5-10></a>
</span><span id=__span-5-11><a id=__codelineno-5-11 name=__codelineno-5-11 href=#__codelineno-5-11></a><span class=w>  </span><span class=nt>version_correlation</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
</span><span id=__span-5-12><a id=__codelineno-5-12 name=__codelineno-5-12 href=#__codelineno-5-12></a><span class=w>    </span><span class=no># Maintain relationship between fork and template versions</span>
</span><span id=__span-5-13><a id=__codelineno-5-13 name=__codelineno-5-13 href=#__codelineno-5-13></a><span class=w>    </span><span class=no>gh issue create \</span>
</span><span id=__span-5-14><a id=__codelineno-5-14 name=__codelineno-5-14 href=#__codelineno-5-14></a><span class=w>      </span><span class=no>--title &quot;📦 Template Sync $(date +%Y-%m-%d)&quot; \</span>
</span><span id=__span-5-15><a id=__codelineno-5-15 name=__codelineno-5-15 href=#__codelineno-5-15></a><span class=w>      </span><span class=no>--body &quot;Template updated to $TEMPLATE_COMMIT. Files synchronized: $SYNC_SUMMARY&quot; \</span>
</span><span id=__span-5-16><a id=__codelineno-5-16 name=__codelineno-5-16 href=#__codelineno-5-16></a><span class=w>      </span><span class=no>--label &quot;template-sync,automated&quot;</span>
</span></code></pre></div> <h2 id=benefits-and-rationale>Benefits and Rationale</h2> <h3 id=material-trending-up-strategic-advantages>:material-trending-up Strategic Advantages</h3> <h4 id=template-drift-elimination><strong>Template Drift Elimination</strong></h4> <ul> <li>Automated propagation ensures forked repositories stay current with template improvements</li> <li>Selective synchronization prevents overwriting project-specific customizations</li> <li>Version tracking provides clear visibility into template synchronization state</li> <li>Consistent infrastructure maintenance across all repository deployments</li> </ul> <h4 id=maintainable-synchronization-architecture><strong>Maintainable Synchronization Architecture</strong></h4> <ul> <li>Single configuration file controls all sync behavior with clear documentation</li> <li>Explicit categorization eliminates ambiguity about file synchronization requirements</li> <li>JSON-based configuration enables programmatic processing and validation</li> <li>Git-tracked configuration changes provide complete audit trail</li> </ul> <h4 id=clean-repository-state-management><strong>Clean Repository State Management</strong></h4> <ul> <li>Systematic cleanup removes template development artifacts during initialization</li> <li>Documented cleanup rationale provides clear understanding of removal decisions</li> <li>Consistent clean starting state across all forked repository deployments</li> <li>Future-proof cleanup behavior through configurable rules</li> </ul> <h3 id=material-cog-outline-operational-benefits>:material-cog-outline Operational Benefits</h3> <h4 id=conflict-prevention-and-boundary-management><strong>Conflict Prevention and Boundary Management</strong></h4> <ul> <li>Clear separation between template infrastructure and project-specific content</li> <li>Explicit exclusion rules prevent accidental synchronization of custom files</li> <li>Selective update mechanism preserves project customizations while updating infrastructure</li> <li>Documented boundaries enable confident customization without sync conflicts</li> </ul> <h4 id=development-and-maintenance-efficiency><strong>Development and Maintenance Efficiency</strong></h4> <ul> <li>Easy addition of new files to synchronization process through configuration updates</li> <li>Transparent sync process with clear documentation of what gets synchronized</li> <li>Reduced manual coordination overhead for template improvements</li> <li>Self-documenting configuration with rationale for each synchronization decision</li> </ul> <h2 id=alternative-approaches-considered>Alternative Approaches Considered</h2> <h3 id=manual-synchronization-documentation><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2c5.53 0 10 4.47 10 10s-4.47 10-10 10S2 17.53 2 12 6.47 2 12 2m3.59 5L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"/></svg></span> Manual Synchronization Documentation</h3> <p><strong>Approach</strong>: Comprehensive documentation with step-by-step synchronization instructions</p> <ul> <li><strong>Pros</strong>: Simple approach with no automation complexity</li> <li><strong>Cons</strong>: Error-prone manual process, poor adoption rates, inconsistent application</li> <li><strong>Decision</strong>: Rejected due to fundamental reliability and consistency issues</li> </ul> <h3 id=git-subtreesubmodule-integration><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2c5.53 0 10 4.47 10 10s-4.47 10-10 10S2 17.53 2 12 6.47 2 12 2m3.59 5L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"/></svg></span> Git Subtree/Submodule Integration</h3> <p><strong>Approach</strong>: Native Git functionality for template integration</p> <ul> <li><strong>Pros</strong>: Leverages standard Git features, well-understood by developers</li> <li><strong>Cons</strong>: Complex user experience, doesn't handle selective file synchronization</li> <li><strong>Decision</strong>: Rejected due to user experience complexity and selective sync limitations</li> </ul> <h3 id=hardcoded-synchronization-lists><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2c5.53 0 10 4.47 10 10s-4.47 10-10 10S2 17.53 2 12 6.47 2 12 2m3.59 5L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"/></svg></span> Hardcoded Synchronization Lists</h3> <p><strong>Approach</strong>: Direct file lists embedded in workflow code</p> <ul> <li><strong>Pros</strong>: Direct implementation, no additional configuration complexity</li> <li><strong>Cons</strong>: Difficult to maintain, poor documentation of synchronization decisions</li> <li><strong>Decision</strong>: Rejected due to maintainability concerns and lack of transparency</li> </ul> <h3 id=external-synchronization-service><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2c5.53 0 10 4.47 10 10s-4.47 10-10 10S2 17.53 2 12 6.47 2 12 2m3.59 5L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"/></svg></span> External Synchronization Service</h3> <p><strong>Approach</strong>: Dedicated service for sophisticated synchronization management</p> <ul> <li><strong>Pros</strong>: Powerful capabilities, could handle complex synchronization scenarios</li> <li><strong>Cons</strong>: External dependency, additional infrastructure requirements, complexity overhead</li> <li><strong>Decision</strong>: Rejected due to template self-containment requirements</li> </ul> <h2 id=consequences-and-trade-offs>Consequences and Trade-offs</h2> <h3 id=positive-outcomes><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"/></svg></span> Positive Outcomes</h3> <h4 id=infrastructure-consistency-excellence><strong>Infrastructure Consistency Excellence</strong></h4> <ul> <li>Template improvements automatically reach all forked repositories</li> <li>Selective synchronization preserves project customizations while updating infrastructure</li> <li>Clean repository state eliminates template development artifacts</li> <li>Consistent behavior across unlimited repository deployments</li> </ul> <h4 id=maintainability-and-transparency><strong>Maintainability and Transparency</strong></h4> <ul> <li>Single configuration file controls all synchronization behavior</li> <li>Clear documentation of what gets synchronized and rationale for decisions</li> <li>Easy addition of new files to synchronization process</li> <li>Git-tracked configuration provides complete audit trail</li> </ul> <h4 id=conflict-prevention-and-reliability><strong>Conflict Prevention and Reliability</strong></h4> <ul> <li>Explicit boundaries between template and project content</li> <li>Automated cleanup prevents template artifact accumulation</li> <li>Version tracking enables troubleshooting and rollback capabilities</li> <li>Self-updating configuration ensures consistency across deployments</li> </ul> <h3 id=trade-offs-and-limitations><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span> Trade-offs and Limitations</h3> <h4 id=configuration-management-complexity><strong>Configuration Management Complexity</strong></h4> <ul> <li>Additional JSON configuration file requires maintenance and understanding</li> <li>Bootstrap dependency: sync configuration must exist before synchronization works</li> <li>JSON syntax knowledge required for configuration modifications</li> <li>Learning curve for understanding configuration structure and options</li> </ul> <h4 id=implementation-dependencies><strong>Implementation Dependencies</strong></h4> <ul> <li>Synchronization workflows depend on configuration file accuracy</li> <li>Changes to sync behavior require configuration file updates</li> <li>Need for configuration validation to prevent sync failures</li> <li>Coordination required when multiple developers modify configuration</li> </ul> <h2 id=success-metrics>Success Metrics</h2> <h3 id=quantitative-indicators><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m16 11.78 4.24-7.33 1.73 1-5.23 9.05-6.51-3.75L5.46 19H22v2H2V3h2v14.54L9.5 8z"/></svg></span> Quantitative Indicators</h3> <ul> <li><strong>Template Drift Elimination</strong>: 100% of essential files synchronized across deployments</li> <li><strong>Synchronization Success Rate</strong>: &gt;99% successful template synchronization operations</li> <li><strong>Clean State Achievement</strong>: Zero template artifacts remaining after initialization</li> <li><strong>Configuration Accuracy</strong>: All synchronization rules properly documented and categorized</li> </ul> <h3 id=qualitative-indicators><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M.41 13.41 6 19l1.41-1.42L1.83 12m20.41-6.42L11.66 16.17 7.5 12l-1.43 1.41L11.66 19l12-12M18 7l-1.41-1.42-6.35 6.35 1.42 1.41z"/></svg></span> Qualitative Indicators</h3> <ul> <li>Teams report confidence in template update propagation</li> <li>Clear understanding of file synchronization categories and rationale</li> <li>Effective separation between template infrastructure and project content</li> <li>Reduced manual coordination overhead for template improvements</li> </ul> <h2 id=integration-points>Integration Points</h2> <h3 id=material-source-branch-template-and-initialization-integration>:material-source-branch Template and Initialization Integration</h3> <h4 id=template-repository-pattern-per-adr-003><strong>Template Repository Pattern</strong> (per <a href=../adr_003_template_pattern/ >ADR-003</a>)</h4> <ul> <li>Configuration-driven approach enhances template repository with systematic update mechanism</li> <li>Selective synchronization preserves template self-configuration benefits</li> <li>Clean initialization process improved through documented cleanup rules</li> </ul> <h4 id=two-workflow-initialization-per-adr-006><strong>Two-Workflow Initialization</strong> (per <a href=../adr_006_initialization/ >ADR-006</a>)</h4> <ul> <li>Initialization workflows enhanced with configuration-driven cleanup</li> <li>Systematic removal of template artifacts during repository setup</li> <li>Clear documentation of cleanup rationale for maintenance</li> </ul> <h3 id=material-update-template-update-propagation>:material-update Template Update Propagation</h3> <h4 id=template-update-strategy-per-adr-012><strong>Template Update Strategy</strong> (per <a href=../adr_012_template_updates/ >ADR-012</a>)</h4> <ul> <li>Configuration provides foundation for systematic update propagation</li> <li>Version tracking enables sophisticated update management</li> <li>Selective synchronization rules prevent project customization conflicts</li> </ul> <h2 id=related-decisions>Related Decisions</h2> <ul> <li><a href=../adr_003_template_pattern/ >ADR-003</a>: Template repository pattern enhanced by this synchronization system</li> <li><a href=../adr_006_initialization/ >ADR-006</a>: Two-workflow initialization enhanced by sync configuration</li> <li><a href=../adr_012_template_updates/ >ADR-012</a>: Template update propagation depends on this configuration system</li> <li>Template Sync Workflow Implementation: Leverages configuration for selective file synchronization</li> </ul> <hr> <p><em>This configuration-driven template synchronization system provides systematic, maintainable propagation of template improvements while preserving project customizations, ensuring consistent infrastructure across all repository deployments through selective file synchronization and documented cleanup processes.</em></p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; Microsoft Corporation. </div> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["content.code.copy", "navigation.collapsible", "navigation.instant", "navigation.instant.preview", "navigation.tabs", "navigation.footer", "navigation.expand", "search.highlight", "search.share", "search.suggest"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../assets/javascripts/bundle.56ea9cef.min.js></script> <script src=https://unpkg.com/mermaid@10.9.0/dist/mermaid.min.js></script> <script src=https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js></script> <script src=../../javascripts/tablesort.js></script> </body> </html>